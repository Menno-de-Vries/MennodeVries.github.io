<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night Racer | Menno de Vries</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <header class="site-header">
        <div class="container header-inner">
            <div class="header-top">
                <a class="brand" href="../index.html">Menno de Vries</a>
                <p class="role">Game Developer | Cybersecurity & Cloud Student</p>
            </div>
            <nav class="site-nav" aria-label="Hoofdnavigatie">
                <a href="../index.html">Home</a>
                <a href="../About_Me/AboutMe.html">About Me</a>
                <a class="is-active" href="../Projecten.html">Projecten</a>
                <a href="../Keuzehulp.html">PC Keuzehulp</a>
                <a href="../Cybersecurity.html">Cybersecurity</a>
                <a href="../Blog.html">Blog</a>
                <a href="../Contact.html">Contact</a>
                            <div class="lang-switcher">
                    <label for="lang-select">Taal</label>
                    <select id="lang-select" class="js-language-select" aria-label="Selecteer taal">
                        <option value="nl">Nederlands</option>
                        <option value="en">English</option>
                        <option value="de">Deutsch</option>
                    </select>
                </div>
                <button class="theme-toggle js-theme-toggle" type="button" aria-pressed="false">Dark mode</button>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <section class="hero">
                <div class="project-header">
                    <div>
                        <h1>Night Racer</h1>
                        <p>Arcade racing project waarin ik de rijervaring, raceflow en physics van de auto stap voor stap opbouw en verbeter.</p>
                        <div class="project-badges">
                            <span>Unity</span>
                            <span>C#</span>
                            <span>Racing Mechanics</span>
                            <span>GameManager</span>
                        </div>
                    </div>
                    <a class="btn btn-small" href="../Projecten.html">Terug naar Projecten</a>
                </div>
                <div class="project-meta-grid">
                    <article class="project-meta-item">
                        <strong>Rol</strong>
                        <p>Developer</p>
                    </article>
                    <article class="project-meta-item">
                        <strong>Duur</strong>
                        <p>2 Weken</p>
                    </article>
                    <article class="project-meta-item">
                        <strong>Engine</strong>
                        <p>Unity 4</p>
                    </article>
                    <article class="project-meta-item">
                        <strong>Status</strong>
                        <p>Geindigt</p>
                    </article>
                </div>
            </section>

            <section class="project-layout section">
                <div>
                    <h2>Project Overzicht</h2>
                    <p>Night Racer is een raceproject waarin de focus ligt op controle en gevoel van de auto. Ik werk aan de kernsystemen die een race speelbaar en eerlijk maken: vehicle movement, zwaartekracht, lap-validatie en gameflow.</p>

                    <div class="media-tabs" role="tablist" aria-label="Project media tabs">
                        <button class="tab-btn is-active" type="button" data-tab-target="screenshots">Screenshots</button>
                        <button class="tab-btn" type="button" data-tab-target="video">Video</button>
                        <button class="tab-btn" type="button" data-tab-target="code">Code</button>
                    </div>

                    <div class="media-panel is-active" data-tab-panel="screenshots">
                        <div class="shot-grid">
                            <article class="shot-card">
                                <a class="shot-link" href="media/screenshots/screenshot-01.png">
                                    <img data-shot="01" src="media/screenshots/screenshot-01.png" alt="Screenshot 1 - Gameplay Overview">
                                </a>
                            </article>
                            <article class="shot-card">
                                <a class="shot-link" href="media/screenshots/screenshot-02.png">
                                    <img data-shot="02" src="media/screenshots/screenshot-02.png" alt="Screenshot 2 - UI of HUD">
                                </a>
                            </article>
                            <article class="shot-card">
                                <a class="shot-link" href="media/screenshots/screenshot-03.png">
                                    <img data-shot="03" src="media/screenshots/screenshot-03.png" alt="Screenshot 3 - System Debug">
                                </a>
                            </article>
                            <article class="shot-card">
                                <a class="shot-link" href="media/screenshots/screenshot-04.png">
                                    <img data-shot="04" src="media/screenshots/screenshot-04.png" alt="Screenshot 4 - Level of Scene">
                                </a>
                            </article>
                        </div>
                    </div>

                    <div class="media-panel" data-tab-panel="video">
                        <div class="video-frame">
                            <video controls preload="metadata" aria-label="Project demo video">
                                <source src="media/video/project-demo.mp4" type="video/mp4">
                                Je browser ondersteunt geen HTML5 video.
                            </video>
                        </div>
                    </div>

                    <div class="media-panel" data-tab-panel="code">
                        <article class="code-card" style="margin-top: 0.8rem;">
                            <header>
                                <span>Snippet 1: Player Movement + Gravity</span>
                                <button class="copy-btn" type="button" data-copy-target="code-sample-1">Copy</button>
                            </header>
                            <div class="code-editor-wrap" aria-label="Derde codevoorbeeld">
                                <textarea class="code-editor" id="code-sample-1" readonly spellcheck="false">private void MovePlayer()
{
    // Stores the input into the vector3
    Data.MovementAxis = new Vector3(0f, Data.MovementAxis.y, Input.GetAxis("Vertical"));

    // Lets you walk in the direction you are looking in
    Vector3 _move = transform.right * Data.MovementAxis.x + transform.forward * Data.MovementAxis.z;

    // Lets you move the player with the input and the walking speed
    if (!Input.GetKey(KeyCode.LeftShift))
        m_rb.AddForce(_move * Data.WalkingSpeed * Time.fixedDeltaTime, ForceMode.VelocityChange);

    else
        m_rb.AddForce(_move * Data.WalkingSpeed * Data.RunningSpeedMultiplier * Time.fixedDeltaTime, ForceMode.VelocityChange);
}

#endregion

/// &lt;summary&gt;
/// This takes the player after jumping back to the ground as gravity should work
/// &lt;/summary&gt;
private void Grav()
{
    if (!Data.Grounded)
    {
        // Calculates the gravity that works on the player
        Vector3 _gravity = Data.Gravity * Data.GravityScale * m_rb.mass * Vector3.up;

        // Adds the gravity on to the player
        m_rb.AddForce(_gravity, ForceMode.Acceleration);
    }
}
                                </textarea>
                            </div>
                        </article>
                        <article class="code-card" style="margin-top: 0.8rem;">
                            <header>
                                <span>Snippet 2: Game Manager Timer + Laps</span>
                                <button class="copy-btn" type="button" data-copy-target="code-sample-2">Copy</button>
                            </header>
                            <div class="code-editor-wrap" aria-label="Vierde codevoorbeeld">
                                <textarea class="code-editor" id="code-sample-2" readonly spellcheck="false">public void Start()
{
    maxAmountOflaps = 3;

    currentTime = 0;
}

public void Update()
{
    laps.text = ("Laps " + TheAmountOfLaps + ":" + maxAmountOflaps);

    if (TheAmountOfLaps >= lapsToWin)
    {
        SceneManager.LoadScene("MainMenu");
    }

    if (stopwatchActive == true)
    {
        currentTime = currentTime + Time.deltaTime;
    }
    TimeSpan time = TimeSpan.FromSeconds(currentTime);
    Timer.text = time.ToString(@"mm\:ss\:fff");
}

public void StartStopWatch()
{
    stopwatchActive = true;
}

public void StopStopWatch()
{
    stopwatchActive = false;
    currentTime = 0;
}

#endregion

#region Safe point and finish system

/// &lt;summary&gt;
/// Checks if you are riding the route correctly so you can race all laps
/// &lt;/summary&gt;
/// &lt;param name="_WaypointOrFinish"&gt;&lt;/param&gt;
public void CheckAndSafeWaypointLap(GameObject _WaypointOrFinish)
{
    if (_WaypointOrFinish.GetComponent&lt;FinishTag&gt;())
    {
        CheckForFinish();
        return;
    }

    else if (_WaypointOrFinish.GetComponent&lt;WaypointTag&gt;())
    {
        // Grabs the script of the waypoint and then checks if it is the right one
        // if not then your not following the race track in the good direction
        WaypointTag _WaypointScript = _WaypointOrFinish.GetComponent&lt;WaypointTag&gt;();

        if (_WaypointScript.WaypointIndentifier == WaypointAmount)
        {
            // Fills the right index in the array with the right Waypoint
            Waypoints[WaypointAmount] = _WaypointOrFinish;

            // Sets the Waypoint amount to the next waypoint it needs
            WaypointAmount++;
        }
        else
            Debug.Log("Your going the wrong way");
    }
}

/// &lt;summary&gt;
/// if you have raced the track correctly then if you finish it then it will lower the amount of laps remaining and start the waypoint saving system over again
/// &lt;/summary&gt;
public void CheckForFinish()
{
    if (Waypoints[Waypoints.Length - 1] != null)
    {
        // Clears the waypoint array to race the new lap
        for (int i = 0; i &lt; Waypoints.Length; i++)
        {
            Waypoints[i] = null;
            StopStopWatch();
            StartStopWatch();
        }

        // Sets the amount of laps remaining
        TheAmountOfLaps++;

        // Sets the waypoint to the first one you need to collect
        WaypointAmount = 0;
    }
}
                                </textarea>
                            </div>
                        </article>
                        <p style="margin-top: 0.8rem;">Code uit dit project: movement/physics en race manager logica</p>
                    </div>
                </div>

                <aside class="project-sidebar">
                    <article class="card">
                        <h3>Highlights</h3>
                        <ul class="checklist">
                            <li>Uitwerking van de auto-mechanics en rijgedrag.</li>
                            <li>Opbouw van het GameManager-systeem voor gameflow en state-beheer.</li>
                            <li>Implementatie en tuning van zwaartekracht in de gameplay.</li>
                        </ul>
                    </article>
                    <article class="card">
                        <h3>Links</h3>
                        <div class="project-actions">
                            <a class="btn btn-small" href="https://github.com/Menno-de-Vries/Speed-Racer.git" target="_blank" rel="noopener noreferrer">GitHub Repository</a>
                        </div>
                        <div class="project-actions">
                            <a class="btn btn-small" href="media/Speed-Racer-Game.zip" download>Playable Build</a>
                        </div>
                        <div class="project-actions">
                            <a class="btn btn-small" href="#">Devlog</a>
                        </div>
                    </article>
                </aside>
            </section>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2026 Menno de Vries. Alle rechten voorbehouden.</p>
    </footer>
    <div class="image-lightbox" id="image-lightbox" aria-hidden="true">
        <img id="image-lightbox-img" src="" alt="Vergrote screenshot">
    </div>

    <script>
        const isLikelyTouchDevice =
            window.matchMedia("(pointer: coarse)").matches ||
            navigator.maxTouchPoints > 0 ||
            /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

        if (isLikelyTouchDevice) {
            document.body.classList.add("is-touch-device");
        }

        const tabButtons = document.querySelectorAll("[data-tab-target]");
        const tabPanels = document.querySelectorAll("[data-tab-panel]");
        const codeEditors = document.querySelectorAll(".code-editor");
        const screenshotImages = document.querySelectorAll("img[data-shot]");

        const resizeCodeEditorsToContent = () => {
            codeEditors.forEach((editor) => {
                editor.style.height = "auto";
                editor.style.height = `${editor.scrollHeight}px`;
            });
        };

        tabButtons.forEach((button) => {
            button.addEventListener("click", () => {
                const target = button.dataset.tabTarget;

                tabButtons.forEach((item) => item.classList.remove("is-active"));
                tabPanels.forEach((panel) => panel.classList.remove("is-active"));

                button.classList.add("is-active");
                const nextPanel = document.querySelector(`[data-tab-panel="${target}"]`);
                if (nextPanel) nextPanel.classList.add("is-active");
                requestAnimationFrame(resizeCodeEditorsToContent);
            });
        });

        const copyButtons = document.querySelectorAll("[data-copy-target]");
        const shotLinks = document.querySelectorAll(".shot-link");
        const lightbox = document.getElementById("image-lightbox");
        const lightboxImage = document.getElementById("image-lightbox-img");
        copyButtons.forEach((button) => {
            button.addEventListener("click", async () => {
                const targetId = button.dataset.copyTarget;
                const codeNode = document.getElementById(targetId);
                if (!codeNode) return;

                try {
                    const codeText = "value" in codeNode ? codeNode.value : (codeNode.textContent || "");
                    await navigator.clipboard.writeText(codeText);
                    const previous = button.textContent;
                    button.textContent = "Copied";
                    setTimeout(() => {
                        button.textContent = previous;
                    }, 1200);
                } catch (error) {
                    button.textContent = "Failed";
                    setTimeout(() => {
                        button.textContent = "Copy";
                    }, 1200);
                }
            });
        });

        const resolveScreenshotPath = async (img) => {
            const shotId = img.dataset.shot;
            if (!shotId) return;

            const basePath = `media/screenshots/screenshot-${shotId}`;
            const extensions = ["png", "jpg", "jpeg", "webp"];

            for (const ext of extensions) {
                const candidate = `${basePath}.${ext}`;
                try {
                    const probe = new Image();
                    await new Promise((resolve, reject) => {
                        probe.onload = resolve;
                        probe.onerror = reject;
                        probe.src = candidate;
                    });
                    img.src = candidate;
                    const link = img.closest(".shot-link");
                    if (link) link.href = candidate;
                    return;
                } catch (_error) {
                    // Try next extension.
                }
            }
        };

        screenshotImages.forEach((img) => {
            resolveScreenshotPath(img);
        });

        const closeLightbox = () => {
            if (!lightbox || !lightboxImage) return;
            lightbox.classList.remove("is-open");
            lightbox.setAttribute("aria-hidden", "true");
            lightboxImage.src = "";
        };

        shotLinks.forEach((link) => {
            link.addEventListener("click", (event) => {
                event.preventDefault();
                if (!lightbox || !lightboxImage) return;
                const targetSrc = link.getAttribute("href");
                if (!targetSrc) return;
                lightboxImage.src = targetSrc;
                lightbox.classList.add("is-open");
                lightbox.setAttribute("aria-hidden", "false");
            });
        });

        if (lightbox) {
            lightbox.addEventListener("click", (event) => {
                if (event.target === lightbox) closeLightbox();
            });
        }

        document.addEventListener("keydown", (event) => {
            if (event.key === "Escape") closeLightbox();
        });

        resizeCodeEditorsToContent();
        window.addEventListener("resize", resizeCodeEditorsToContent);

    </script>
    <div id="google_translate_element" class="google-translate-hidden" aria-hidden="true"></div>
    <script src="../language-switcher.js" defer></script>
    <script src="../theme-toggle.js" defer></script>
    <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" defer></script></body>
</html>
